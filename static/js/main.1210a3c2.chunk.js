(this["webpackJsonpreact-auth-template"]=this["webpackJsonpreact-auth-template"]||[]).push([[0],{130:function(e,t,s){},131:function(e,t,s){},135:function(e,t,s){},161:function(e,t,s){},163:function(e,t,s){},164:function(e,t,s){},443:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s.n(a),r=s(44),c=s.n(r),i=(s(130),s(74)),o=s(27),l=s(28),d=s(33),u=s(32),j=s(21),h=s(460),b=s(85),m=(s(131),s(1)),p=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).handleClose=function(){return a.setState({show:!1})},a.state={show:!0},a.timeoutId=null,a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.timeoutId=setTimeout(this.handleClose,3e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeoutId)}},{key:"render",value:function(){var e=this.props,t=e.variant,s=e.heading,a=e.message,n=e.deleteAlert,r=e.id;return this.state.show||setTimeout((function(){n(r)}),300),Object(m.jsx)(b.a,{dismissible:!0,show:this.state.show,variant:t,onClose:this.handleClose,children:Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)(b.a.Heading,{children:s}),Object(m.jsx)("p",{className:"alert-body",children:a})]})})}}]),s}(n.a.Component),O=s(124),x=s(62),g=s(17),f=(s(135),s(446)),v=s(447),w=s(448),y=s(449),C=s(450),N=s(451),S=s(452),A=s(453),k=s(454),P=s(455),U=Object(m.jsxs)(a.Fragment,{children:[Object(m.jsxs)(g.c,{to:"/posts/owner",className:"nav-link OneUsersAllPosts",children:["See Your Posts ",Object(m.jsx)(f.a,{})]}),Object(m.jsxs)(g.c,{to:"/users/",className:"nav-link makePost",children:["List of Users ",Object(m.jsx)(v.a,{})]}),Object(m.jsxs)(g.c,{to:"/posts/create",className:"nav-link makePost",children:["Make a Post ",Object(m.jsx)(w.a,{})]}),Object(m.jsxs)(g.c,{to:"/posts",className:"nav-link seePosts ",children:["Posts ",Object(m.jsx)(y.a,{})]}),Object(m.jsxs)(g.c,{to:"/change-password",className:"nav-link changePass ",children:["Change Password ",Object(m.jsx)(C.a,{})]}),Object(m.jsxs)(g.c,{to:"/sign-out",className:"nav-link doorClosed",children:["Sign Out ",Object(m.jsx)(N.a,{})]})]}),F=Object(m.jsxs)(a.Fragment,{children:[Object(m.jsxs)(g.c,{to:"/sign-up",className:"nav-link",children:["Sign Up ",Object(m.jsx)(S.a,{})]}),Object(m.jsxs)(g.c,{to:"/sign-in",className:"nav-link",children:["Sign In ",Object(m.jsx)(A.a,{})]})]}),B=Object(m.jsx)(a.Fragment,{children:Object(m.jsxs)(g.c,{to:"/",className:"nav-link homeNav",children:["Home ",Object(m.jsx)(k.a,{})]})}),I=function(e){var t=e.user;return Object(m.jsxs)(x.a,{className:"navbar",bg:"primary",variant:"dark",expand:"md",children:[Object(m.jsx)(x.a.Brand,{children:Object(m.jsx)(g.b,{to:"/",style:{color:"#FFF",textDecoration:"none"},className:"ml-auto logo border-fade",children:"OurSpace"})}),Object(m.jsx)(x.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(m.jsx)(x.a.Collapse,{id:"basic-navbar-nav",children:Object(m.jsxs)(O.a,{className:"ms-auto justify-content-center",children:[t&&Object(m.jsxs)("span",{className:"navbar-text",style:{color:"#FFF",textDecoration:"none"},children:[" ",t.email," ",Object(m.jsx)(P.a,{})," "]}),B,t?U:F]})})]})},L=s(14),_="https://stormy-fjord-99407.herokuapp.com",T="http://localhost:4741",D="localhost"===window.location.hostname?T:_,E=s(39),z=s.n(E),G=function(e){return z()({url:D+"/sign-in/",method:"POST",data:{credentials:{email:e.email,password:e.password}}})},q=function(e){return z.a.get("".concat(D,"/users/"),{headers:{Authorization:"Bearer ".concat(e.token)}})},M=s(19),W=s(54),Y=(s(97),s(456)),H=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).handleChange=function(e){return a.setState(Object(L.a)({},e.target.name,e.target.value))},a.onSignUp=function(e){e.preventDefault();var t,s=a.props,n=s.msgAlert,r=s.history,c=s.setUser;(t=a.state,z()({method:"POST",url:D+"/sign-up/",data:{credentials:{email:t.email,password:t.password,password_confirmation:t.passwordConfirmation}}})).then((function(){return G(a.state)})).then((function(e){return c(e.data.user)})).then((function(){return n({heading:"Sign Up Success",message:"Succesfully registered! You've been signed in as well.",variant:"success"})})).then((function(){return r.push("/")})).catch((function(e){a.setState({email:"",password:"",passwordConfirmation:""}),n({heading:"Sign Up Failed with error: "+e.message,message:"Registration failed. Email may be taken, or passwords don't match.",variant:"danger"})}))},a.state={email:"",password:"",passwordConfirmation:""},a}return Object(l.a)(s,[{key:"render",value:function(){var e=this.state,t=e.email,s=e.password,a=e.passwordConfirmation;return Object(m.jsx)("div",{className:"login",children:Object(m.jsxs)("div",{className:"row mt-5",children:[Object(m.jsx)("div",{className:"col-md-6",children:Object(m.jsxs)("div",{className:"loginLeft",children:[Object(m.jsx)("h3",{className:"loginLogo",children:"OurSpace"}),Object(m.jsx)("span",{className:"loginDesc",children:"Connect with friends not around the world yet but soon!"})]})}),Object(m.jsx)("div",{className:"col-md-6 mt-5",children:Object(m.jsxs)(M.a,{className:"loginBox",onSubmit:this.onSignUp,children:[Object(m.jsx)("h3",{children:"SignUp"}),Object(m.jsxs)(M.a.Group,{controlId:"email",children:[Object(m.jsx)(M.a.Label,{children:"Email address"}),Object(m.jsx)(M.a.Control,{required:!0,type:"email",name:"email",value:t,placeholder:"Enter email",onChange:this.handleChange})]}),Object(m.jsxs)(M.a.Group,{controlId:"password",children:[Object(m.jsx)(M.a.Label,{children:"Password"}),Object(m.jsx)(M.a.Control,{required:!0,name:"password",value:s,type:"password",placeholder:"Password",onChange:this.handleChange})]}),Object(m.jsxs)(M.a.Group,{controlId:"passwordConfirmation",children:[Object(m.jsx)(M.a.Label,{children:"Password Confirmation"}),Object(m.jsx)(M.a.Control,{required:!0,name:"passwordConfirmation",value:a,type:"password",placeholder:"Confirm Password",onChange:this.handleChange})]}),Object(m.jsxs)(W.a,{className:"loginRegisterButton Bttn",variant:"primary",type:"submit",children:["Submit ",Object(m.jsx)(Y.a,{})]})]})})]})})}}]),s}(a.Component),R=Object(j.h)(H),J=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).handleChange=function(e){return a.setState(Object(L.a)({},e.target.name,e.target.value))},a.onSignIn=function(e){e.preventDefault();var t=a.props,s=t.msgAlert,n=t.history,r=t.setUser;G(a.state).then((function(e){return r(e.data.user)})).then((function(){return s({heading:"Sign In Success",message:"Welcome!",variant:"success"})})).then((function(){return n.push("/")})).catch((function(e){a.setState({email:"",password:""}),s({heading:"Sign In Failed with error: "+e.message,message:"Failed to sign in. Check your email and password and try again.",variant:"danger"})}))},a.state={email:"",password:""},a}return Object(l.a)(s,[{key:"render",value:function(){var e=this.state,t=e.email,s=e.password;return Object(m.jsx)("div",{className:"login",children:Object(m.jsxs)("div",{className:"row mt-5",children:[Object(m.jsx)("div",{className:"col-md-6",children:Object(m.jsxs)("div",{className:"loginLeft",children:[Object(m.jsx)("h3",{className:"loginLogo",children:"OurSpace"}),Object(m.jsx)("span",{className:"loginDesc",children:"Connect with friends not around the world yet but soon!"})]})}),Object(m.jsx)("div",{className:"col-md-6 mt-5",children:Object(m.jsxs)(M.a,{className:"loginBox",onSubmit:this.onSignIn,children:[Object(m.jsx)("h3",{children:"Sign In"}),Object(m.jsxs)(M.a.Group,{controlId:"email",children:[Object(m.jsx)(M.a.Label,{children:"Email address"}),Object(m.jsx)(M.a.Control,{className:"loginInput",required:!0,type:"email",name:"email",value:t,placeholder:"Enter email",onChange:this.handleChange})]}),Object(m.jsxs)(M.a.Group,{controlId:"password",children:[Object(m.jsx)(M.a.Label,{children:"Password"}),Object(m.jsx)(M.a.Control,{required:!0,name:"password",value:s,type:"password",placeholder:"Password",onChange:this.handleChange})]}),Object(m.jsxs)(W.a,{className:"loginRegisterButton Bttn  ",variant:"primary",type:"submit",children:["Submit ",Object(m.jsx)(Y.a,{})]})]})})]})})}}]),s}(a.Component),X=Object(j.h)(J),K=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this.props,t=e.msgAlert,s=e.history,a=e.clearUser;(function(e){return z()({url:D+"/sign-out/",method:"DELETE",headers:{Authorization:"Bearer ".concat(e.token)}})})(e.user).finally((function(){return t({heading:"Signed Out Successfully",message:"Come back soon!",variant:"success"})})).finally((function(){return s.push("/")})).finally((function(){return a()}))}},{key:"render",value:function(){return""}}]),s}(a.Component),Q=Object(j.h)(K),V=s(457),Z=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).handleChange=function(e){return a.setState(Object(L.a)({},e.target.name,e.target.value))},a.onChangePassword=function(e){e.preventDefault();var t=a.props,s=t.msgAlert,n=t.history,r=t.user;(function(e,t){return z()({url:D+"/change-password/",method:"PATCH",headers:{Authorization:"Bearer ".concat(t.token)},data:{passwords:{old:e.oldPassword,new:e.newPassword}}})})(a.state,r).then((function(){return s({heading:"Change Password Success",message:"Password changed successfully!",variant:"success"})})).then((function(){return n.push("/")})).catch((function(e){a.setState({oldPassword:"",newPassword:""}),s({heading:"Change Password Failed with error: "+e.message,message:"Failed to change passwords. Check your old password and try again.",variant:"danger"})}))},a.state={oldPassword:"",newPassword:""},a}return Object(l.a)(s,[{key:"render",value:function(){var e=this.state,t=e.oldPassword,s=e.newPassword;return Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(m.jsx)("h3",{children:"Change Password"}),Object(m.jsxs)(M.a,{onSubmit:this.onChangePassword,children:[Object(m.jsxs)(M.a.Group,{controlId:"oldPassword",children:[Object(m.jsx)(M.a.Label,{children:"Old password"}),Object(m.jsx)(M.a.Control,{required:!0,name:"oldPassword",value:t,type:"password",placeholder:"Old Password",onChange:this.handleChange})]}),Object(m.jsxs)(M.a.Group,{controlId:"newPassword",children:[Object(m.jsx)(M.a.Label,{children:"New Password"}),Object(m.jsx)(M.a.Control,{required:!0,name:"newPassword",value:s,type:"password",placeholder:"New Password",onChange:this.handleChange})]}),Object(m.jsxs)(W.a,{className:"Bttn",variant:"primary",type:"submit",children:["Submit ",Object(m.jsx)(V.a,{})]})]})]})})}}]),s}(a.Component),$=Object(j.h)(Z),ee=(s(161),function(){return Object(m.jsxs)("div",{className:"txtwrapper",children:[Object(m.jsx)("div",{className:"static-txt"}),Object(m.jsxs)("ul",{className:"dynamic-txts",children:[Object(m.jsx)("li",{children:Object(m.jsx)("span",{children:"The Place Where MySpace"})}),Object(m.jsx)("li",{children:Object(m.jsx)("span",{children:"Meets YourSpace"})}),Object(m.jsx)("li",{children:Object(m.jsx)("span",{children:"And Becomes"})}),Object(m.jsx)("li",{children:Object(m.jsx)("span",{children:"\ud83e\udd0c\ud83c\udffd OurSpace \ud83e\udd0c\ud83c\udffd"})})]})]})}),te=s(7),se=s.n(te),ae=s(34),ne=s(15),re=function(e,t,s,a){return z.a.post("".concat(D,"/posts/"),{post:{title:e,text:t,feelings:s}},{headers:{Authorization:"Bearer ".concat(a.token)}})},ce=function(e){return z.a.get("".concat(D,"/posts/"),{headers:{Authorization:"Bearer ".concat(e.token)}})},ie=function(e){return z.a.get("".concat(D,"/posts/owner/"),{headers:{Authorization:"Bearer ".concat(e.token)}})},oe=function(e,t){return z.a.get("".concat(D,"/posts/").concat(e,"/"),{headers:{Authorization:"Bearer ".concat(t.token)}})},le=function(e,t){return z.a.delete("".concat(D,"/posts/").concat(e),{headers:{Authorization:"Bearer ".concat(t.token)}})},de=function(e,t,s,a,n){return z.a.patch("".concat(D,"/posts/").concat(e),{post:{title:t,text:s,feelings:a}},{headers:{Authorization:"Bearer ".concat(n.token)}})},ue=s(458),je=s(47),he=(s(99),function(e){var t=e.user,s=e.msgAlert,n=Object(a.useState)([]),r=Object(ne.a)(n,2),c=r[0],i=r[1];if(!t)return Object(m.jsx)(j.a,{to:"/"});if(Object(a.useEffect)((function(){(function(){var e=Object(ae.a)(se.a.mark((function e(){var a;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce(t);case 3:a=e.sent,i(a.data.posts),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s({heading:"Post Cant be displayed: "+e.t0.message,message:"Cant index Post",variant:"danger"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),0===c.length)return Object(m.jsx)(ue.a,{animation:"border",role:"status",children:Object(m.jsx)("span",{className:"visually-hidden",children:"Loading..."})});var o=c.map((function(e){return Object(m.jsxs)("div",{className:"posts",children:[Object(m.jsx)(g.b,{to:"/posts/".concat(e._id),children:e.title}),Object(m.jsx)("span",{className:"postDate",children:Object(je.a)(e.createdAt)}),Object(m.jsx)("h6",{children:e.text}),Object(m.jsxs)("h6",{children:["Feelings scale 1-5: ",1===e.feelings?"\ud83d\ude0b":2===e.feelings?"\ud83d\ude1d":3===e.feelings?"\ud83d\ude10":4===e.feelings?"\ud83d\ude16":"\ud83d\ude2d"]}),Object(m.jsxs)("h6",{children:["User ",e.owner," Post"]})]},e._id)}));return Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(m.jsx)("h3",{children:"Posts"}),Object(m.jsx)("ul",{children:o})]})})}),be=function(e){var t=e.handleSubmit,s=e.title,a=e.text,n=e.feelings,r=e.setTitle,c=e.setText,i=e.setFeelings;return Object(m.jsxs)(M.a,{onSubmit:t,children:[Object(m.jsxs)(M.a.Group,{controlId:"title",children:[Object(m.jsx)(M.a.Label,{children:"Title"}),Object(m.jsx)(M.a.Control,{placeholder:"Title",name:"title",value:s,onChange:function(e){return r(e.target.value)}})]}),Object(m.jsxs)(M.a.Group,{controlId:"text",children:[Object(m.jsx)(M.a.Label,{children:"Post"}),Object(m.jsx)(M.a.Control,{placeholder:"Whats on your mind?",name:"text",value:a,onChange:function(e){return c(e.target.value)}})]}),Object(m.jsxs)(M.a.Group,{controlId:"feelings",children:[Object(m.jsx)(M.a.Label,{children:"Feelings Scale 1-5"}),Object(m.jsx)(M.a.Control,{placeholder:"feelings 1-5",name:"feelings",value:n,onChange:function(e){return i(e.target.value)}})]}),Object(m.jsxs)(W.a,{className:"mt-2 Bttn",variant:"primary",type:"submit",children:["Submit ",Object(m.jsx)(V.a,{})]}),Object(m.jsx)("div",{className:"mt-5 footer",children:"Tell the world you onion"})]})},me=function(e){var t=e.user,s=e.msgAlert,n=Object(a.useState)(""),r=Object(ne.a)(n,2),c=r[0],i=r[1],o=Object(a.useState)(""),l=Object(ne.a)(o,2),d=l[0],u=l[1],h=Object(a.useState)(""),b=Object(ne.a)(h,2),p=b[0],O=b[1],x=Object(a.useState)(!1),g=Object(ne.a)(x,2),f=g[0],v=g[1],w=Object(j.g)().id;if(!t)return Object(m.jsx)(j.a,{to:"/"});Object(a.useEffect)((function(){(function(){var e=Object(ae.a)(se.a.mark((function e(){var a;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe(w,t);case 3:a=e.sent,i(a.data.post.title),u(a.data.post.text),O(a.data.post.feelings),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),s({heading:"Failed to load post",message:e.t0.message,variant:"danger"});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var y=function(){var e=Object(ae.a)(se.a.mark((function e(a){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,de(w,c,d,p,t);case 4:v(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),s({heading:"Failed to update post",message:e.t0.message,variant:"danger"});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return f?Object(m.jsx)(j.a,{to:"/posts/".concat(w)}):Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(m.jsx)("h3",{children:"Edit Post"}),Object(m.jsx)(be,{handleSubmit:y,title:c,text:d,feelings:+p,setTitle:i,setText:u,setFeelings:O})]})})},pe=(s(163),s(459)),Oe=function(e){var t=e.user,s=e.msgAlert,n=Object(a.useState)(null),r=Object(ne.a)(n,2),c=r[0],i=r[1],o=Object(a.useState)(!1),l=Object(ne.a)(o,2),d=l[0],u=l[1],h=Object(j.g)().id;if(!t)return Object(m.jsx)(j.a,{to:"/"});Object(a.useEffect)((function(){(function(){var e=Object(ae.a)(se.a.mark((function e(){var a;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe(h,t);case 3:a=e.sent,i(a.data.post),console.log(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),s({heading:"Post failed to load this is coming from (Post.js Error)",message:e.t0.message,variant:"danger"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var b=function(){var e=Object(ae.a)(se.a.mark((function e(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le(h,t);case 3:u(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),s({heading:"Failed to delete Post",message:e.t0.message,variant:"danger"});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return c?d?Object(m.jsx)(j.a,{to:"/posts"}):Object(m.jsx)("div",{className:"post",children:Object(m.jsxs)("div",{className:"PostWrapper",children:[Object(m.jsxs)("h3",{children:[c.title,Object(m.jsx)("span",{className:"postDate",children:Object(je.a)(c.createdAt)})]}),Object(m.jsxs)("p",{children:["You changed your mind?\ud83d\udcad : ",c.text]}),Object(m.jsxs)("p",{children:["Change your Feelings : ",1===c.feelings?"\ud83d\ude0b":2===c.feelings?"\ud83d\ude1d":3===c.feelings?"\ud83d\ude10":4===c.feelings?"\ud83d\ude16":"\ud83d\ude2d"]}),Object(m.jsx)("p",{children:c.owner}),Object(m.jsx)(g.b,{to:"/posts/".concat(h,"/edit"),children:Object(m.jsxs)(W.a,{className:"Bttn",variant:"primary",type:"submit",children:["Update Post ",Object(m.jsx)(V.a,{})]})}),Object(m.jsxs)(W.a,{className:"Bttn",variant:"danger",onClick:b,children:["Delete Post ",Object(m.jsx)(pe.a,{})]})]})}):Object(m.jsx)(ue.a,{animation:"border",role:"status",children:Object(m.jsx)("span",{className:"visually-hidden",children:"Loading..."})})},xe=function(e){var t=e.user,s=e.msgAlert,n=Object(a.useState)(""),r=Object(ne.a)(n,2),c=r[0],i=r[1],o=Object(a.useState)(""),l=Object(ne.a)(o,2),d=l[0],u=l[1],h=Object(a.useState)(""),b=Object(ne.a)(h,2),p=b[0],O=b[1],x=Object(a.useState)(null),g=Object(ne.a)(x,2),f=g[0],v=g[1],w=function(){var e=Object(ae.a)(se.a.mark((function e(a){var n;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,re(c,d,p,t);case 4:n=e.sent,v(n.data.post._id),console.log(p),s({heading:"Post Created",message:"Created ".concat(c," successfully."),variant:"success"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),s({heading:"Failed to create Post",message:e.t0.message,variant:"danger"});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return t?f?Object(m.jsx)(j.a,{to:"/posts/".concat(f)}):Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"col-md-3 mx-auto mt-5",children:[Object(m.jsx)("h3",{children:"Create Post"}),Object(m.jsx)(be,{handleSubmit:w,title:c,text:d,feelings:+p,setTitle:i,setText:u,setFeelings:O})]})}):Object(m.jsx)(j.a,{to:"/"})},ge=function(e){var t=e.user,s=e.msgAlert,n=Object(a.useState)([]),r=Object(ne.a)(n,2),c=r[0],i=r[1];if(!t)return Object(m.jsx)(j.a,{to:"/"});if(Object(a.useEffect)((function(){(function(){var e=Object(ae.a)(se.a.mark((function e(){var a;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ie(t);case 3:a=e.sent,i(a.data.posts),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s({heading:"Posts Cant be displayed: "+e.t0.message,message:"Cant index Post",variant:"danger"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),!c.length)return Object(m.jsx)(ue.a,{animation:"border",role:"status",children:Object(m.jsx)("span",{className:"visually-hidden",children:"Loading..."})});var o=c.map((function(e){return Object(m.jsxs)("div",{className:"posts",children:[Object(m.jsx)(g.b,{to:"/posts/".concat(e._id),children:e.title}),Object(m.jsx)("span",{className:"postDate",children:Object(je.a)(e.createdAt)}),Object(m.jsx)("h6",{children:e.text}),Object(m.jsxs)("h6",{children:["Photo: ",e.photo]}),Object(m.jsx)("h6",{children:e.owner})]},e._id)}));return Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(m.jsx)("h3",{children:"Posts"}),Object(m.jsx)("ul",{children:o})]})})},fe=(s(164),s(123)),ve=s.n(fe),we={particles:{number:{value:218,density:{enable:!0,value_area:800}},color:{value:"#ffffff"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:1,random:!0,anim:{enable:!0,speed:1,opacity_min:0,sync:!1}},size:{value:3,random:!0,anim:{enable:!1,speed:4,size_min:.3,sync:!1}},line_linked:{enable:!1,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:1,direction:"none",random:!0,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:600}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"bubble"},onclick:{enable:!0,mode:"repulse"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:250,size:0,duration:2,opacity:0,speed:3},repulse:{distance:400,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0};function ye(){return Object(m.jsx)(ve.a,{params:we})}var Ce=function(e){var t=e.user,s=e.msgAlert,n=Object(a.useState)([]),r=Object(ne.a)(n,2),c=r[0],i=r[1];if(!t)return Object(m.jsx)(j.a,{to:"/"});if(Object(a.useEffect)((function(){(function(){var e=Object(ae.a)(se.a.mark((function e(){var a;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q(t);case 3:a=e.sent,i(a.data.users),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s({heading:"Users Cant be displayed: "+e.t0.message,message:"Cant index Users",variant:"danger"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),0===c.length)return Object(m.jsx)(ue.a,{animation:"border",role:"status",children:Object(m.jsx)("span",{className:"visually-hidden",children:"Loading..."})});var o=c.map((function(e){return Object(m.jsxs)("div",{className:"posts",children:[Object(m.jsx)(g.b,{to:"/posts/".concat(e._id),children:e.title}),Object(m.jsx)("span",{className:"postDate",children:Object(je.a)(e.createdAt)}),Object(m.jsx)("h6",{children:e.email})]},e._id)}));return Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(m.jsx)("h3",{children:"All Users"}),Object(m.jsx)("ul",{children:o})]})})},Ne=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).setUser=function(e){return a.setState({user:e})},a.clearUser=function(){return a.setState({user:null})},a.deleteAlert=function(e){a.setState((function(t){return{msgAlerts:t.msgAlerts.filter((function(t){return t.id!==e}))}}))},a.msgAlert=function(e){var t=e.heading,s=e.message,n=e.variant,r=Object(h.a)();a.setState((function(e){return{msgAlerts:[].concat(Object(i.a)(e.msgAlerts),[{heading:t,message:s,variant:n,id:r}])}}))},a.state={user:null,msgAlerts:[]},a}return Object(l.a)(s,[{key:"render",value:function(){var e=this,t=this.state,s=t.msgAlerts,n=t.user;return Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)(ye,{}),Object(m.jsxs)("div",{className:"a",children:[Object(m.jsx)(I,{user:n}),s.map((function(t){return Object(m.jsx)(p,{heading:t.heading,variant:t.variant,message:t.message,id:t.id,deleteAlert:e.deleteAlert},t.id)})),Object(m.jsxs)("main",{className:"container",children:[Object(m.jsx)(j.b,{exact:!0,path:"/",render:function(){return Object(m.jsx)(ee,{msgAlert:e.msgAlert,setUser:e.setUser})}}),Object(m.jsx)(j.b,{exact:!0,path:"/sign-up",render:function(){return Object(m.jsx)(R,{msgAlert:e.msgAlert,setUser:e.setUser})}}),Object(m.jsx)(j.b,{exact:!0,path:"/sign-in",render:function(){return Object(m.jsx)(X,{msgAlert:e.msgAlert,setUser:e.setUser})}}),Object(m.jsx)(j.b,{user:n,path:"/sign-out",render:function(){return Object(m.jsx)(Q,{msgAlert:e.msgAlert,clearUser:e.clearUser,user:n})}}),Object(m.jsx)(j.b,{user:n,path:"/change-password",render:function(){return Object(m.jsx)($,{msgAlert:e.msgAlert,user:n})}}),Object(m.jsxs)(j.d,{children:[Object(m.jsx)(j.b,{user:n,path:"/users",render:function(){return Object(m.jsx)(Ce,{msgAlert:e.msgAlert,user:n})}}),Object(m.jsx)(j.b,{user:n,path:"/posts/create",render:function(){return Object(m.jsx)(xe,{msgAlert:e.msgAlert,user:n})}}),Object(m.jsx)(j.b,{user:n,path:"/posts/owner",render:function(){return Object(m.jsx)(ge,{msgAlert:e.msgAlert,user:n})}}),Object(m.jsx)(j.b,{user:n,path:"/posts/:id",render:function(){return Object(m.jsx)(Oe,{msgAlert:e.msgAlert,user:n})}}),Object(m.jsx)(j.b,{user:n,path:"/posts",render:function(){return Object(m.jsx)(he,{msgAlert:e.msgAlert,user:n})}})]}),Object(m.jsx)(j.b,{user:n,path:"/posts/:id/edit",render:function(){return Object(m.jsx)(me,{msgAlert:e.msgAlert,user:n})}})]})]})]})}}]),s}(a.Component),Se=Object(m.jsx)(g.a,{basename:"/project-frontend",children:Object(m.jsx)(Ne,{})});c.a.render(Se,document.getElementById("root"))},97:function(e,t,s){},99:function(e,t,s){}},[[443,1,2]]]);
//# sourceMappingURL=main.1210a3c2.chunk.js.map